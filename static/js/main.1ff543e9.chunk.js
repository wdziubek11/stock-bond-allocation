(this["webpackJsonpstock-bond-allocation"]=this["webpackJsonpstock-bond-allocation"]||[]).push([[0],{75:function(e,n,t){"use strict";t.r(n);var a,c,i=t(0),r=t(11),o=t.n(r),l=t(9),s=t(10),d=Object(s.a)(a||(a=Object(l.a)(["\nhtml, body, #root {\n  height: 100%;\n}\n\nbody {\n  margin: 0;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto',\n    'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans',\n    'Helvetica Neue', sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\ncode {\n  font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',\n    monospace;\n}\n"]))),j=t(109),u=t(107),b=t(56),O=t(54),v=t.n(O),f=t(55),m=t.n(f),p=Object(b.a)({palette:{primary:v.a,secondary:m.a}}),x=t(28);!function(e){e.equity="equity",e.bond="bond"}(c||(c={}));var h,g,y,C,I,w,S,F,k,A,M,T,N,P,q,E,L=[{id:1,name:"Fidelity International Index",assetClass:"International Funds",allocation:[{type:c.equity,percentage:99},{type:c.bond,percentage:1}]},{id:2,name:"Fidelity Small Cap Index",assetClass:"Small Cap Funds",allocation:[{type:c.equity,percentage:99},{type:c.bond,percentage:1}]},{id:3,name:"Fidelity Mid Cap Index",assetClass:"Mid Cap Funds",allocation:[{type:c.equity,percentage:100}]},{id:4,name:"Fidelity 500 Index",assetClass:"Large Cap Funds",allocation:[{type:c.equity,percentage:100}]},{id:5,name:"Fidelity US Bond Index",assetClass:"International Funds",allocation:[{type:c.equity,percentage:1},{type:c.bond,percentage:99}]}],B={investments:L,portfolio:{name:"My Portfolio",value:1e4,allocation:[{investment:L[0],percentage:15},{investment:L[1],percentage:24},{investment:L[2],percentage:21},{investment:L[3],percentage:30},{investment:L[4],percentage:10}]}},z=t(2),V=Object(i.createContext)({store:B,setStore:function(){return console.warn("You need to enclose your application with StoreProvider")}}),D=function(e){var n=e.children,t=Object(i.useState)(B),a=Object(x.a)(t,2),c={store:a[0],setStore:a[1]};return Object(z.jsx)(V.Provider,{value:c,children:n})},U=function(){return Object(i.useContext)(V)},J=function(){return{data:U().store.portfolio}},H=s.b.div(h||(h=Object(l.a)(["\n  display: flex;\n  flex-direction: row;\n  flex: 1;\n  align-items: center;\n  & > div {\n    margin: 1.5rem 1rem;\n    flex: 1;\n    justify-content: flex-start;\n\n    &.center {\n      justify-content: center;\n      text-align: center;\n    }\n  }\n"]))),R=Object(s.b)(H)(g||(g=Object(l.a)(["\n  font-weight: bold;\n  border-bottom: 1px solid black;\n"]))),X=function(e){var n=e.investmentTypeAllocation,t=e.variant,a=Object(i.useMemo)((function(){return 1===n.length}),[n]),r=Object(i.useMemo)((function(){return 2===n.length}),[n]),o=Object(i.useCallback)((function(e){return e===c.equity?"dodgerblue":"mediumseagreen"}),[]);return Object(z.jsx)(Y,{className:"center",children:Object(z.jsxs)(G,{children:[r?Object(z.jsx)(W,{variant:t,color:o(n[0].type),children:n[0].percentage}):Object(z.jsx)(W,{}),Object(z.jsx)(K,{variant:t,children:n.map((function(e){return Object(z.jsx)(Q,{width:"".concat(e.percentage,"%"),color:o(e.type),children:a&&Object(z.jsx)("span",{children:e.percentage})},e.type)}))}),r?Object(z.jsx)(W,{variant:t,color:o(n[1].type),children:n[1].percentage}):Object(z.jsx)(W,{})]})})},Y=s.b.div(y||(y=Object(l.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n"]))),G=s.b.div(C||(C=Object(l.a)(["\n  display: flex;\n  flex: 1;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n"]))),K=s.b.div(I||(I=Object(l.a)(["\n  width: ",";\n  height: ",";\n  display: flex;\n  flex-direction: row;\n  background: lightgray;\n"])),(function(e){return"large"===e.variant?"40rem":"4rem"}),(function(e){return"large"===e.variant?"4rem":"1.25rem"})),Q=s.b.div(w||(w=Object(l.a)(["\n  width: ",";\n  height: 100%;\n  background-color: ",";\n  overflow: hidden;\n  color: white;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 0.8rem;\n"])),(function(e){var n=e.width;return"".concat(n)}),(function(e){return e.color})),W=s.b.span(S||(S=Object(l.a)(["\n  font-size: ",";\n  width: ",";\n  text-align: center;\n  color: ",";\n  font-weight: bold;\n"])),(function(e){return"large"===e.variant?"1.5rem":"0.8rem"}),(function(e){return"large"===e.variant?"3rem":"1.5rem"}),(function(e){return e.color})),Z=t(111),$=t(16),_=t(45),ee=function(){var e=J().data;return{data:Object(i.useMemo)((function(){return e.allocation.reduce((function(e,n){return e+n.percentage}),0)}),[e])}},ne=function(e){var n=e.investmentAllocation,t=ee().data,a=function(e){var n=e.investmentId,t=J().data,a=U(),c=a.setStore,r=a.store,o=ee().data,l=Object(i.useCallback)((function(e,n){return o-n.percentage+e<=100}),[o]);return{adjustAllocation:Object(i.useCallback)((function(e){var a=e.newAllocationValue,i=t.allocation.findIndex((function(e){return e.investment.id===n})),s=t.allocation[i],d=l(a,s)?a:100-(o-s.percentage),j=Object(_.a)(t.allocation);j[i]=Object($.a)(Object($.a)({},j[i]),{},{percentage:d}),c(Object($.a)(Object($.a)({},r),{},{portfolio:Object($.a)(Object($.a)({},t),{},{allocation:j})}))}),[n,c,r,t,l,o])}}({investmentId:n.investment.id}).adjustAllocation,c=Object(i.useState)(n.percentage),r=Object(x.a)(c,2),o=r[0],l=r[1];Object(i.useEffect)((function(){l(n.percentage)}),[n.percentage]);var s=Object(i.useCallback)((function(e,n){a({newAllocationValue:n})}),[a]);return Object(z.jsx)(te,{children:Object(z.jsx)(Z.a,{color:t<100?"secondary":"primary",value:o,valueLabelDisplay:"on",onChange:s})})},te=s.b.div(F||(F=Object(l.a)(["\n  width: 5rem;\n"]))),ae=t(106),ce=function(e){var n=function(e){var n=e.investmentId,t=U(),a=t.setStore,c=t.store;return{removeInvestmentFromPortfolio:Object(i.useCallback)((function(){a(Object($.a)(Object($.a)({},c),{},{portfolio:Object($.a)(Object($.a)({},c.portfolio),{},{allocation:c.portfolio.allocation.filter((function(e){return e.investment.id!==n}))})}))}),[c,a,n])}}({investmentId:e.investmentId}).removeInvestmentFromPortfolio;return Object(z.jsx)("div",{className:"remove-button center",children:Object(z.jsx)(ae.a,{color:"secondary",variant:"contained",onClick:n,children:"x"})})},ie=function(e){var n=e.investmentAllocation,t=n.investment,a=t.id,c=t.name,i=t.assetClass,r=t.allocation;return Object(z.jsxs)(re,{children:[Object(z.jsx)("div",{children:c}),Object(z.jsx)(X,{investmentTypeAllocation:r}),Object(z.jsx)("div",{children:i}),Object(z.jsx)(ne,{investmentAllocation:n}),Object(z.jsx)(ce,{investmentId:a})]})},re=Object(s.b)(H)(k||(k=Object(l.a)(["\n  padding-top: 1rem;\n  & > .remove-button {\n    opacity: 0;\n    transition: opacity 0.2s ease;\n  }\n  :hover {\n    .remove-button {\n      opacity: 1;\n    }\n  }\n"]))),oe=function(){var e=ee().data;return Object(z.jsxs)("div",{children:[Object(z.jsx)("h3",{children:"Total: ".concat(e," ")}),Object(z.jsx)(le,{children:e<100?"(needs to add up to 100)":""})]})},le=s.b.div(A||(A=Object(l.a)(["\n  color: red;\n"]))),se=function(){return Object(z.jsxs)(H,{children:[Object(z.jsx)("div",{}),Object(z.jsx)("div",{}),Object(z.jsx)("div",{}),Object(z.jsx)(oe,{}),Object(z.jsx)("div",{})]})},de=function(){var e=J().data,n={data:U().store.investments}.data,t=Object(i.useMemo)((function(){return e.allocation.map((function(e){return e.investment.id}))}),[e.allocation]);return{data:Object(i.useMemo)((function(){return n.filter((function(e){return!t.includes(e.id)}))}),[n,t])}},je=t(108),ue=t(110),be=function(){var e=de().data,n=function(){var e=U(),n=e.setStore,t=e.store;return{addInvestmentToPortfolio:Object(i.useCallback)((function(e){var a=e.investmentId,c=t.investments.find((function(e){return e.id===a}));c&&n(Object($.a)(Object($.a)({},t),{},{portfolio:Object($.a)(Object($.a)({},t.portfolio),{},{allocation:[].concat(Object(_.a)(t.portfolio.allocation),[{investment:c,percentage:0}])})}))}),[t,n])}}().addInvestmentToPortfolio,t=Object(i.useState)(!1),a=Object(x.a)(t,2),c=a[0],r=a[1];Object(i.useEffect)((function(){r(!1)}),[e]);var o=Object(i.useCallback)((function(){r(!0)}),[]),l=Object(i.useCallback)((function(e){var t=e.target.value;n({investmentId:t})}),[n]);return e.length?Object(z.jsxs)(H,{children:[c?Object(z.jsxs)(je.a,{defaultValue:"",onChange:l,children:[Object(z.jsx)(ue.a,{value:"",children:"Please select investment"}),e.map((function(e){var n=e.id,t=e.name;return Object(z.jsx)(ue.a,{value:n,children:t},n)}))]}):Object(z.jsx)(ae.a,{variant:"contained",color:"primary",onClick:o,children:"+ Add Investment"}),Object(z.jsx)("div",{}),Object(z.jsx)("div",{}),Object(z.jsx)("div",{}),Object(z.jsx)("div",{})]}):null},Oe=function(){var e=J().data;return e?Object(z.jsxs)(ve,{children:[Object(z.jsxs)(R,{children:[Object(z.jsx)("div",{children:"INVESTMENT"}),Object(z.jsx)("div",{className:"center",children:"MIX"}),Object(z.jsx)("div",{children:"ASSET CLASS"}),Object(z.jsx)("div",{className:"center",children:"ALLOCATION"}),Object(z.jsx)("div",{})]}),e.allocation.map((function(e){return Object(z.jsx)(ie,{investmentAllocation:e},e.investment.id)})),Object(z.jsx)(be,{}),Object(z.jsx)(se,{})]}):null},ve=s.b.div(M||(M=Object(l.a)(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n"]))),fe=function(){var e=J().data,n=function(){var e=J().data;return{data:Object(i.useMemo)((function(){var n=e.allocation.reduce((function(e,n){var t=n.investment.allocation.reduce((function(e,n){return e[n.type]=n.percentage,e}),{});for(var a in t){var c=a,i=t[c]*n.percentage/100;e[c]="undefined"!==typeof e[c]?e[c]+i:i}return e}),{});return Object.keys(n).map((function(e){return{type:e,percentage:Math.round(n[e])}}))}),[e.allocation])}}().data;return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("h2",{children:e.name}),Object(z.jsxs)(me,{children:[Object(z.jsx)(xe,{children:"Equities"}),Object(z.jsx)(X,{variant:"large",investmentTypeAllocation:n}),Object(z.jsx)(he,{children:"Bonds"})]})]})},me=s.b.div(T||(T=Object(l.a)(["\n  display: flex;\n  flex: 1;\n  justify-content: space-evenly;\n  align-items: center;\n  height: 3rem;\n  max-width: 50rem;\n  margin: 2rem auto;\n"]))),pe=s.b.span(N||(N=Object(l.a)(["\n  font-size: 1.5rem;\n  font-weight: bold;\n"]))),xe=Object(s.b)(pe)(P||(P=Object(l.a)(["\n  color: dodgerblue;\n"]))),he=Object(s.b)(pe)(q||(q=Object(l.a)(["\n  color: mediumseagreen;\n"])));var ge=function(){return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(d,{}),Object(z.jsx)(j.b,{injectFirst:!0,children:Object(z.jsx)(u.a,{theme:p,children:Object(z.jsx)(ye,{className:"App",children:Object(z.jsxs)(D,{children:[Object(z.jsx)(fe,{}),Object(z.jsx)(Oe,{})]})})})})]})},ye=s.b.div(E||(E=Object(l.a)(["\n  padding: 2rem;\n  width: 75%;\n  margin: auto;\n"]))),Ce=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,112)).then((function(n){var t=n.getCLS,a=n.getFID,c=n.getFCP,i=n.getLCP,r=n.getTTFB;t(e),a(e),c(e),i(e),r(e)}))};o.a.render(Object(z.jsx)(ge,{}),document.getElementById("root")),Ce()}},[[75,1,2]]]);
//# sourceMappingURL=main.1ff543e9.chunk.js.map